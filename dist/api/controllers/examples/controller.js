"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.Controller = void 0;

var _examples = _interopRequireDefault(require("../../services/examples.service"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

const accountSid = process.env.TWILIO_ACCOUNT_SID;
const authToken = process.env.TWILIO_AUTH_TOKEN;

const client = require('twilio')(accountSid, authToken);

class Controller {
  getPhoneNumbers(req, res) {
    client.availablePhoneNumbers(req.params.code).tollFree.list({
      limit: 20
    }).then(available_phone_number_country => res.status(200).json({
      response: available_phone_number_country,
      success: true
    })).catch(error => res.status(500).json({
      response: null,
      success: false,
      error
    }));
  }

  byId(req, res) {
    _examples.default.byId(req.params.id).then(r => {
      if (r) res.json(r);else res.status(404).end();
    });
  }

  create(req, res) {
    res.status(201).json({
      message: 'welcome'
    });
  }

}

exports.Controller = Controller;

var _default = new Controller();

exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NlcnZlci9hcGkvY29udHJvbGxlcnMvZXhhbXBsZXMvY29udHJvbGxlci5qcyJdLCJuYW1lcyI6WyJhY2NvdW50U2lkIiwicHJvY2VzcyIsImVudiIsIlRXSUxJT19BQ0NPVU5UX1NJRCIsImF1dGhUb2tlbiIsIlRXSUxJT19BVVRIX1RPS0VOIiwiY2xpZW50IiwicmVxdWlyZSIsIkNvbnRyb2xsZXIiLCJnZXRQaG9uZU51bWJlcnMiLCJyZXEiLCJyZXMiLCJhdmFpbGFibGVQaG9uZU51bWJlcnMiLCJwYXJhbXMiLCJjb2RlIiwidG9sbEZyZWUiLCJsaXN0IiwibGltaXQiLCJ0aGVuIiwiYXZhaWxhYmxlX3Bob25lX251bWJlcl9jb3VudHJ5Iiwic3RhdHVzIiwianNvbiIsInJlc3BvbnNlIiwic3VjY2VzcyIsImNhdGNoIiwiZXJyb3IiLCJieUlkIiwiRXhhbXBsZXNTZXJ2aWNlIiwiaWQiLCJyIiwiZW5kIiwiY3JlYXRlIiwibWVzc2FnZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOzs7O0FBQ0EsTUFBTUEsVUFBVSxHQUFHQyxPQUFPLENBQUNDLEdBQVIsQ0FBWUMsa0JBQS9CO0FBQ0EsTUFBTUMsU0FBUyxHQUFHSCxPQUFPLENBQUNDLEdBQVIsQ0FBWUcsaUJBQTlCOztBQUNBLE1BQU1DLE1BQU0sR0FBR0MsT0FBTyxDQUFDLFFBQUQsQ0FBUCxDQUFrQlAsVUFBbEIsRUFBOEJJLFNBQTlCLENBQWY7O0FBQ08sTUFBTUksVUFBTixDQUFpQjtBQUN0QkMsRUFBQUEsZUFBZSxDQUFDQyxHQUFELEVBQU1DLEdBQU4sRUFBVztBQUN4QkwsSUFBQUEsTUFBTSxDQUNITSxxQkFESCxDQUN5QkYsR0FBRyxDQUFDRyxNQUFKLENBQVdDLElBRHBDLEVBRUdDLFFBRkgsQ0FFWUMsSUFGWixDQUVpQjtBQUFFQyxNQUFBQSxLQUFLLEVBQUU7QUFBVCxLQUZqQixFQUdHQyxJQUhILENBR1NDLDhCQUFELElBQ0pSLEdBQUcsQ0FDQVMsTUFESCxDQUNVLEdBRFYsRUFFR0MsSUFGSCxDQUVRO0FBQUVDLE1BQUFBLFFBQVEsRUFBRUgsOEJBQVo7QUFBNENJLE1BQUFBLE9BQU8sRUFBRTtBQUFyRCxLQUZSLENBSkosRUFRR0MsS0FSSCxDQVFVQyxLQUFELElBQ0xkLEdBQUcsQ0FBQ1MsTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQUVDLE1BQUFBLFFBQVEsRUFBRSxJQUFaO0FBQWtCQyxNQUFBQSxPQUFPLEVBQUUsS0FBM0I7QUFBa0NFLE1BQUFBO0FBQWxDLEtBQXJCLENBVEo7QUFXRDs7QUFFREMsRUFBQUEsSUFBSSxDQUFDaEIsR0FBRCxFQUFNQyxHQUFOLEVBQVc7QUFDYmdCLHNCQUFnQkQsSUFBaEIsQ0FBcUJoQixHQUFHLENBQUNHLE1BQUosQ0FBV2UsRUFBaEMsRUFBb0NWLElBQXBDLENBQTBDVyxDQUFELElBQU87QUFDOUMsVUFBSUEsQ0FBSixFQUFPbEIsR0FBRyxDQUFDVSxJQUFKLENBQVNRLENBQVQsRUFBUCxLQUNLbEIsR0FBRyxDQUFDUyxNQUFKLENBQVcsR0FBWCxFQUFnQlUsR0FBaEI7QUFDTixLQUhEO0FBSUQ7O0FBRURDLEVBQUFBLE1BQU0sQ0FBQ3JCLEdBQUQsRUFBTUMsR0FBTixFQUFXO0FBQ2ZBLElBQUFBLEdBQUcsQ0FBQ1MsTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQUVXLE1BQUFBLE9BQU8sRUFBRTtBQUFYLEtBQXJCO0FBQ0Q7O0FBeEJxQjs7OztlQTBCVCxJQUFJeEIsVUFBSixFIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEV4YW1wbGVzU2VydmljZSBmcm9tICcuLi8uLi9zZXJ2aWNlcy9leGFtcGxlcy5zZXJ2aWNlJztcbmNvbnN0IGFjY291bnRTaWQgPSBwcm9jZXNzLmVudi5UV0lMSU9fQUNDT1VOVF9TSUQ7XG5jb25zdCBhdXRoVG9rZW4gPSBwcm9jZXNzLmVudi5UV0lMSU9fQVVUSF9UT0tFTjtcbmNvbnN0IGNsaWVudCA9IHJlcXVpcmUoJ3R3aWxpbycpKGFjY291bnRTaWQsIGF1dGhUb2tlbik7XG5leHBvcnQgY2xhc3MgQ29udHJvbGxlciB7XG4gIGdldFBob25lTnVtYmVycyhyZXEsIHJlcykge1xuICAgIGNsaWVudFxuICAgICAgLmF2YWlsYWJsZVBob25lTnVtYmVycyhyZXEucGFyYW1zLmNvZGUpXG4gICAgICAudG9sbEZyZWUubGlzdCh7IGxpbWl0OiAyMCB9KVxuICAgICAgLnRoZW4oKGF2YWlsYWJsZV9waG9uZV9udW1iZXJfY291bnRyeSkgPT5cbiAgICAgICAgcmVzXG4gICAgICAgICAgLnN0YXR1cygyMDApXG4gICAgICAgICAgLmpzb24oeyByZXNwb25zZTogYXZhaWxhYmxlX3Bob25lX251bWJlcl9jb3VudHJ5LCBzdWNjZXNzOiB0cnVlIH0pXG4gICAgICApXG4gICAgICAuY2F0Y2goKGVycm9yKSA9PlxuICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IHJlc3BvbnNlOiBudWxsLCBzdWNjZXNzOiBmYWxzZSwgZXJyb3IgfSlcbiAgICAgICk7XG4gIH1cblxuICBieUlkKHJlcSwgcmVzKSB7XG4gICAgRXhhbXBsZXNTZXJ2aWNlLmJ5SWQocmVxLnBhcmFtcy5pZCkudGhlbigocikgPT4ge1xuICAgICAgaWYgKHIpIHJlcy5qc29uKHIpO1xuICAgICAgZWxzZSByZXMuc3RhdHVzKDQwNCkuZW5kKCk7XG4gICAgfSk7XG4gIH1cblxuICBjcmVhdGUocmVxLCByZXMpIHtcbiAgICByZXMuc3RhdHVzKDIwMSkuanNvbih7IG1lc3NhZ2U6ICd3ZWxjb21lJyB9KTtcbiAgfVxufVxuZXhwb3J0IGRlZmF1bHQgbmV3IENvbnRyb2xsZXIoKTtcbiJdfQ==